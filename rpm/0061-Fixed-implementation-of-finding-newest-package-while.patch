From 627299665aad8b82b887a175c59bd3a80a5f9f77 Mon Sep 17 00:00:00 2001
From: Martin Grimme <martin.grimme@gmail.com>
Date: Fri, 11 Sep 2015 13:05:28 +0200
Subject: [PATCH 61/65] Fixed implementation of finding newest package while
 resolving. Fixes JB#32224

---
 backends/zypp/pk-backend-zypp.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index 0f9ea2f47..6b494fd2f 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -3476,7 +3476,10 @@ backend_resolve_thread (PkBackendJob *job, GVariant *params, gpointer user_data)
 			
 			if (zypp_is_no_solvable(newest)) {
 				newest = *it;
-			} else if (it->edition() > newest.edition() || Arch::compare(it->arch(), newest.arch()) > 0) {
+			} else if (it->edition() > newest.edition()) {
+				newest = *it;
+			} else if (it->edition() == newest.edition()
+					&& Arch::compare(it->arch(), newest.arch()) > 0) {
 				newest = *it;
 			}
 			//MIL << "emit " << *it << endl;
-- 
2.13.5

