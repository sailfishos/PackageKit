From 610127d92fc7fdd7c86069425913f76fb3208f58 Mon, 10 Oct 2016 16:16:22 +0200
From: Martin Grimme <martin.grimme@gmail.com>
Date: Fri, 17 Jul 2015 14:12:00 +0200
Subject: [PATCH] [zypp] make sure that the custom config is set for synchronous operations as well. Fixes JB#30707


diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index bc64cd2..f6fdf81 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -3665,6 +3665,8 @@
 {
 	//MIL << endl;
 
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
@@ -3713,6 +3715,8 @@
 {
 	//MIL << endl;
 	
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
