From deb6d441e23558b897193163dc07f77dd2917579 Mon Sep 17 00:00:00 2001
From: Martin Grimme <martin.grimme@gmail.com>
Date: Fri, 17 Jul 2015 14:12:00 +0200
Subject: [PATCH 59/65] make sure that the custom config is set for synchronous
 operations as well. Fixes JB#30707

---
 backends/zypp/pk-backend-zypp.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index 3098d93c6..fc98dac31 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -3674,6 +3674,8 @@ pk_backend_get_repo_list (PkBackend *backend, PkBackendJob *job, PkBitfield filt
 {
 	//MIL << endl;
 
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
@@ -3722,6 +3724,8 @@ pk_backend_repo_enable (PkBackend *backend, PkBackendJob *job, const gchar *rid,
 {
 	//MIL << endl;
 	
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
-- 
2.13.5

