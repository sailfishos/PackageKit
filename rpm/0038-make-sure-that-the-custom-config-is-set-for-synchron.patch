From 8caf5403ae4584b1781a50be908680b8c53375a7 Mon Sep 17 00:00:00 2001
From: Martin Grimme <martin.grimme@gmail.com>
Date: Fri, 17 Jul 2015 14:12:00 +0200
Subject: [PATCH 38/40] make sure that the custom config is set for synchronous
 operations as well. Fixes JB#30707

---
 backends/zypp/pk-backend-zypp.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index ae3eab13b..b592bc812 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -3706,6 +3706,8 @@ pk_backend_get_repo_list (PkBackend *backend, PkBackendJob *job, PkBitfield filt
 {
 	//MIL << endl;
 
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
@@ -3754,6 +3756,8 @@ pk_backend_repo_enable (PkBackend *backend, PkBackendJob *job, const gchar *rid,
 {
 	//MIL << endl;
 	
+	zypp_set_custom_config_file();
+
 	ZyppJob zjob(job);
 	ZYpp::Ptr zypp = zjob.get_zypp();
 
-- 
2.13.6

