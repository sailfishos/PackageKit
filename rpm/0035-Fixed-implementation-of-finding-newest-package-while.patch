From 3c14627b3fe637290bf7bb5b45f1397ec5b75607 Mon Sep 17 00:00:00 2001
From: Martin Grimme <martin.grimme@gmail.com>
Date: Fri, 11 Sep 2015 13:05:28 +0200
Subject: [PATCH 35/38] Fixed implementation of finding newest package while
 resolving. Fixes JB#32224

---
 backends/zypp/pk-backend-zypp.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/backends/zypp/pk-backend-zypp.cpp b/backends/zypp/pk-backend-zypp.cpp
index e78ff9a92..4fc57983a 100644
--- a/backends/zypp/pk-backend-zypp.cpp
+++ b/backends/zypp/pk-backend-zypp.cpp
@@ -3488,7 +3488,10 @@ backend_resolve_thread (PkBackendJob *job, GVariant *params, gpointer user_data)
 			
 			if (zypp_is_no_solvable(newest)) {
 				newest = *it;
-			} else if (it->edition() > newest.edition() || Arch::compare(it->arch(), newest.arch()) > 0) {
+			} else if (it->edition() > newest.edition()) {
+				newest = *it;
+			} else if (it->edition() == newest.edition()
+					&& Arch::compare(it->arch(), newest.arch()) > 0) {
 				newest = *it;
 			}
 			//MIL << "emit " << *it << endl;
-- 
2.13.6

